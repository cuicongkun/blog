# 实用正则验证

## 校验是否为 IPv6 地址

Example: `isIPv6("2001:0000: 1F 1F :0000:0000:0100: 11A 0:ADDF");`
<CodeGroup>
<CodeGroupItem title="js" active>

```js
function isIPv6(str) {
  return Boolean(
    str.match(/:/g)
      ? str.match(/:/g).length <= 7
      : false && /::/.test(str)
      ? /^([\da-f]{1,4}(:|::)){1,6}[\da-f]{1,4}$/i.test(str)
      : /^([\da-f]{1,4}:){7}[\da-f]{1,4}$/i.test(str)
  );
}
```

  </CodeGroupItem>
  <CodeGroupItem title="ts">

```ts
function isPostCode(value: string | number): boolean {
  return /^[1-9][0-9]{5}$/.test(value.toString());
}
```

  </CodeGroupItem>
</CodeGroup>

## 是否为中国大陆的邮政编码

Example: `isPostCode("150001");`
<CodeGroup>
<CodeGroupItem title="js" active>

```js
function isPostCode(value) {
  return /^[1-9][0-9]{5}$/.test(value.toString());
}
```

  </CodeGroupItem>
  <CodeGroupItem title="ts">

```ts
function isPostCode(value: string | number): boolean {
  return /^[1-9][0-9]{5}$/.test(value.toString());
}
```

  </CodeGroupItem>
</CodeGroup>

## 是否包含中文

Example: `containCNChars("我13");`
<CodeGroup>
<CodeGroupItem title="js" active>

```js
function containCNChars(value) {
  return /[\u4e00-\u9fa5]/.test(value);
}
```

  </CodeGroupItem>
  <CodeGroupItem title="ts">

```ts
function containCNChars(value: string): boolean {
  return /[\u4e00-\u9fa5]/.test(value);
}
```

  </CodeGroupItem>
</CodeGroup>

## 校验身份证号码

Example: `isIDCardNo("1223123123");`
<CodeGroup>
<CodeGroupItem title="js" active>

```js
function isIDCardNo(cardNumber) {
  let reg = /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;
  return reg.test(cardNumber);
}
```

  </CodeGroupItem>
  <CodeGroupItem title="ts">

```ts
function isIDCardNo(cardNumber: string): boolean {
  let reg = /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;
  return reg.test(cardNumber);
}
```

  </CodeGroupItem>
</CodeGroup>

## 凭快递单号猜公司

Example: `guessExpressCompanyByOrder('534534523412');`
<CodeGroup>
<CodeGroupItem title="js" active>

```js
function guessExpressCompanyByOrder(orderNo) {
  const COMPANY_TEXT_MAP = {
    宅急送: {
      code: "ZJS",
      reg_exp:
        "^[a-zA-Z0-9]{10}$|^(42|16)[0-9]{8}$|^A[0-9]{12}$|^ZJS[0-9]{12}$",
    },
    顺丰速运: {
      code: "SF",
      reg_exp: "^[A-Za-z0-9-]{4,35}$",
    },
    申通快递: {
      code: "STO",
      reg_exp:
        "^(268|888|588|688|368|468|568|668|768|868|968)[0-9]{9}$|^(11|22|40|268|888|588|688|368|468|568|668|768|868|968)[0-9]{10}$|^(STO)[0-9]{10}$|^(33)[0-9]{11}$|^(4)[0-9]{12}$|^(55)[0-9]{11}$|^(66)[0-9]{11}$|^(77)[0-9]{11}$|^(88)[0-9]{11}$|^(99)[0-9]{11}$",
    },
    EMS: {
      code: "EMS",
      reg_exp:
        "^[A-Z]{2}[0-9]{9}[A-Z]{2}$|^(10|11)[0-9]{11}$|^(50|51)[0-9]{11}$|^(95|97)[0-9]{11}$",
    },
    韵达快递: {
      code: "YUNDA",
      reg_exp:
        "^(10|11|12|13|14|15|16|17|19|18|50|55|58|80|88|66|31|77|39)[0-9]{11}$|^[0-9]{13}$",
    },
    百世快递: {
      code: "HTKY",
      reg_exp:
        "^((A|B|D|E)[0-9]{12})$|^(BXA[0-9]{10})$|^(K8[0-9]{11})$|^(02[0-9]{11})$|^(000[0-9]{10})$|^(C0000[0-9]{8})$|^((21|22|23|24|25|26|27|28|29|30|31|32|33|34|35|36|37|38|39|61|63)[0-9]{10})$|^((50|51)[0-9]{12})$|^7[0-9]{13}$|^6[0-9]{13}$|^58[0-9]{14}$",
    },
    圆通速递: {
      code: "YTO",
      reg_exp:
        "^[A-Za-z0-9]{2}[0-9]{10}$|^[A-Za-z0-9]{2}[0-9]{8}$|^[6-9][0-9]{17}$|^[DD]{2}[8-9][0-9]{15}$|^[Y][0-9]{12}$",
    },
    天天快递: {
      code: "TTKDEX",
      reg_exp:
        "(66|77|88|(5(5|6|8)))\\d{10}|(99(5|8))\\d{9}|TT(66|88|99|(5(6|7)))\\d{11}",
    },
    全峰快递: {
      code: "QFKD",
      reg_exp:
        "^[0-6|9][0-9]{11}$|^[7][0-8][0-9]{10}$|^[0-9]{15}$|^[S][0-9]{9,11}(-|)P[0-9]{1,2}$|^[0-9]{13}$|^[8][0,2-9][0,2-9][0-9]{9}$|^[8][1][0,2-9][0-9]{9}$|^[8][0,2-9][0-9]{10}$|^[8][1][1][0][8][9][0-9]{6}$",
    },
    EMS经济快递: {
      code: "EYB",
      reg_exp:
        "^[A-Z]{2}[0-9]{9}[A-Z]{2}$|^(10|11)[0-9]{11}$|^(50|51)[0-9]{11}$|^(95|97)[0-9]{11}$",
    },
    优速快递: {
      code: "UC",
      reg_exp:
        "^VIP[0-9]{9}|V[0-9]{11}|[0-9]{12}$|^LBX[0-9]{15}-[2-9AZ]{1}-[1-9A-Z]{1}$|^(9001)[0-9]{8}$",
    },
    德邦快递: {
      code: "DBKD",
      reg_exp: "^[0-9]{8,10}$|^\\d{15,}[-\\d]+$",
    },
    速尔快运: {
      code: "SURE",
      reg_exp: "^(SUR)[0-9]{12}$|^[0-9]{12}$",
    },
    联邦快递: {
      code: "FEDEX",
      reg_exp: "^[0-9]{12}$",
    },
    华强物流: {
      code: "SHQ",
      reg_exp: "^[A-Za-z0-9]*[0|2|4|6|8]$",
    },
    全一快递: {
      code: "UAPEX",
      reg_exp: "^\\d{12}|\\d{11}$",
    },
    天地华宇: {
      code: "HOAU",
      reg_exp: "^[A-Za-z0-9]{8,9}$",
    },
    百世物流: {
      code: "BEST",
      reg_exp: "^[0-9]{11,12}$",
    },
    龙邦速递: {
      code: "LB",
      reg_exp:
        "^[0-9]{12}$|^LBX[0-9]{15}-[2-9AZ]{1}-[1-9A-Z]{1}$|^[0-9]{15}$|^[0-9]{15}-[1-9A-Z]{1}-[1-9A-Z]{1}$",
    },
    新邦物流: {
      code: "XB",
      reg_exp: "^[0-9]{8}$|^[0-9]{10}$",
    },
    中通快递: {
      code: "ZTO",
      reg_exp:
        "^((010|768|765|778|779|719|828|618|680|518|688|880|660|805|988|628|205|717|718|728|738|761|762|763|701|757|751|359|358|100|200|118|128|689|738|528|852)[0-9]{9})$|^((5711|2008|2009|2010|2013)[0-9]{8})$|^((91|92|93|94|95|98|36|68|39|50|53|37)[0-9]{10})$|^(4)[0-9]{11}$|^(90)[0-9]{10}$|^(120)[0-9]{9}$|^(780)[0-9]{9}$|^(881)[0-9]{9}$|^(882|885)[0-9]{9}$|^(54|55|56)[0-9]{10}$|^(960)[0-9]{9}$|^(665|666)[0-9]{9}$|^(63)[0-9]{10}$|^(64)[0-9]{10}$|^(72)[0-9]{10}$|^2[1-9][0-9]{10}$",
    },
    国通快递: {
      code: "GTO",
      reg_exp:
        "^(3(([0-6]|[8-9])\\d{8})|((2|4|5|6)\\d{9})|(7(?![0|1|2|3|4|5|7|8|9])\\d{9})|(8(?![2-9])\\d{9})|(2|4)\\d{11})$",
    },
    快捷快递: {
      code: "FAST",
      reg_exp:
        "^(?!440)(?!510)(?!520)(?!5231)([0-9]{9,13})$|^(P330[0-9]{8})$|^(D[0-9]{11})$|^(319)[0-9]{11}$|^(56)[0-9]{10}$|^(536)[0-9]{9}$",
    },
    能达速递: {
      code: "NEDA",
      reg_exp: "^((88|)[0-9]{10})$|^((1|2|3|5|)[0-9]{9})$|^(90000[0-9]{7})$",
    },
    如风达配送: {
      code: "BJRFD-001",
      reg_exp: "^[\\x21-\\x7e]{1,100}$",
    },
    信丰物流: {
      code: "XFWL",
      reg_exp: "^130[0-9]{9}|13[7-9]{1}[0-9]{9}|18[8-9]{1}[0-9]{9}$",
    },
    广东EMS: {
      code: "GDEMS",
      reg_exp: "^[a-zA-Z]{2}[0-9]{9}[a-zA-Z]{2}$",
    },
    邮政快递包裹: {
      code: "POSTB",
      reg_exp:
        "^([GA]|[KQ]|[PH]){2}[0-9]{9}([2-5][0-9]|[1][1-9]|[6][0-5])$|^[99]{2}[0-9]{11}$|^[96]{2}[0-9]{11}$|^[98]{2}[0-9]{11}$",
    },
    德邦物流: {
      code: "DBL",
      reg_exp: "^[0-9]{8,10}$|^\\d{15,}[-\\d]+$",
    },
    黑猫宅急便: {
      code: "YCT",
      reg_exp: "^[0-9]{12}$",
    },
    联昊通: {
      code: "LTS",
      reg_exp: "^[0-9]{9,12}$",
    },
    E速宝: {
      code: "ESB",
      reg_exp: "^[0-9a-zA-Z-]{5,20}$",
    },
    增益速递: {
      code: "QRT",
      reg_exp: "^[0-9]{12,13}$",
    },
  };
  let result = [];
  for (const company in COMPANY_TEXT_MAP) {
    if (new RegExp(COMPANY_TEXT_MAP[company].reg_exp).test(orderNo)) {
      result.push({
        name: company,
        code: COMPANY_TEXT_MAP[company].code,
      });
    }
  }
  return result;
}
```

  </CodeGroupItem>
  <CodeGroupItem title="ts">

```ts
function guessExpressCompanyByOrder(orderNo: string): {
  name: string;
  code: string;
}[] {
  const COMPANY_TEXT_MAP: Record<
    string,
    {
      code: string;
      reg_exp: string;
    }
  > = {
    宅急送: {
      code: "ZJS",
      reg_exp:
        "^[a-zA-Z0-9]{10}$|^(42|16)[0-9]{8}$|^A[0-9]{12}$|^ZJS[0-9]{12}$",
    },
    顺丰速运: {
      code: "SF",
      reg_exp: "^[A-Za-z0-9-]{4,35}$",
    },
    申通快递: {
      code: "STO",
      reg_exp:
        "^(268|888|588|688|368|468|568|668|768|868|968)[0-9]{9}$|^(11|22|40|268|888|588|688|368|468|568|668|768|868|968)[0-9]{10}$|^(STO)[0-9]{10}$|^(33)[0-9]{11}$|^(4)[0-9]{12}$|^(55)[0-9]{11}$|^(66)[0-9]{11}$|^(77)[0-9]{11}$|^(88)[0-9]{11}$|^(99)[0-9]{11}$",
    },
    EMS: {
      code: "EMS",
      reg_exp:
        "^[A-Z]{2}[0-9]{9}[A-Z]{2}$|^(10|11)[0-9]{11}$|^(50|51)[0-9]{11}$|^(95|97)[0-9]{11}$",
    },
    韵达快递: {
      code: "YUNDA",
      reg_exp:
        "^(10|11|12|13|14|15|16|17|19|18|50|55|58|80|88|66|31|77|39)[0-9]{11}$|^[0-9]{13}$",
    },
    百世快递: {
      code: "HTKY",
      reg_exp:
        "^((A|B|D|E)[0-9]{12})$|^(BXA[0-9]{10})$|^(K8[0-9]{11})$|^(02[0-9]{11})$|^(000[0-9]{10})$|^(C0000[0-9]{8})$|^((21|22|23|24|25|26|27|28|29|30|31|32|33|34|35|36|37|38|39|61|63)[0-9]{10})$|^((50|51)[0-9]{12})$|^7[0-9]{13}$|^6[0-9]{13}$|^58[0-9]{14}$",
    },
    圆通速递: {
      code: "YTO",
      reg_exp:
        "^[A-Za-z0-9]{2}[0-9]{10}$|^[A-Za-z0-9]{2}[0-9]{8}$|^[6-9][0-9]{17}$|^[DD]{2}[8-9][0-9]{15}$|^[Y][0-9]{12}$",
    },
    天天快递: {
      code: "TTKDEX",
      reg_exp:
        "(66|77|88|(5(5|6|8)))\\d{10}|(99(5|8))\\d{9}|TT(66|88|99|(5(6|7)))\\d{11}",
    },
    全峰快递: {
      code: "QFKD",
      reg_exp:
        "^[0-6|9][0-9]{11}$|^[7][0-8][0-9]{10}$|^[0-9]{15}$|^[S][0-9]{9,11}(-|)P[0-9]{1,2}$|^[0-9]{13}$|^[8][0,2-9][0,2-9][0-9]{9}$|^[8][1][0,2-9][0-9]{9}$|^[8][0,2-9][0-9]{10}$|^[8][1][1][0][8][9][0-9]{6}$",
    },
    EMS经济快递: {
      code: "EYB",
      reg_exp:
        "^[A-Z]{2}[0-9]{9}[A-Z]{2}$|^(10|11)[0-9]{11}$|^(50|51)[0-9]{11}$|^(95|97)[0-9]{11}$",
    },
    优速快递: {
      code: "UC",
      reg_exp:
        "^VIP[0-9]{9}|V[0-9]{11}|[0-9]{12}$|^LBX[0-9]{15}-[2-9AZ]{1}-[1-9A-Z]{1}$|^(9001)[0-9]{8}$",
    },
    德邦快递: {
      code: "DBKD",
      reg_exp: "^[0-9]{8,10}$|^\\d{15,}[-\\d]+$",
    },
    速尔快运: {
      code: "SURE",
      reg_exp: "^(SUR)[0-9]{12}$|^[0-9]{12}$",
    },
    联邦快递: {
      code: "FEDEX",
      reg_exp: "^[0-9]{12}$",
    },
    华强物流: {
      code: "SHQ",
      reg_exp: "^[A-Za-z0-9]*[0|2|4|6|8]$",
    },
    全一快递: {
      code: "UAPEX",
      reg_exp: "^\\d{12}|\\d{11}$",
    },
    天地华宇: {
      code: "HOAU",
      reg_exp: "^[A-Za-z0-9]{8,9}$",
    },
    百世物流: {
      code: "BEST",
      reg_exp: "^[0-9]{11,12}$",
    },
    龙邦速递: {
      code: "LB",
      reg_exp:
        "^[0-9]{12}$|^LBX[0-9]{15}-[2-9AZ]{1}-[1-9A-Z]{1}$|^[0-9]{15}$|^[0-9]{15}-[1-9A-Z]{1}-[1-9A-Z]{1}$",
    },
    新邦物流: {
      code: "XB",
      reg_exp: "^[0-9]{8}$|^[0-9]{10}$",
    },
    中通快递: {
      code: "ZTO",
      reg_exp:
        "^((010|768|765|778|779|719|828|618|680|518|688|880|660|805|988|628|205|717|718|728|738|761|762|763|701|757|751|359|358|100|200|118|128|689|738|528|852)[0-9]{9})$|^((5711|2008|2009|2010|2013)[0-9]{8})$|^((91|92|93|94|95|98|36|68|39|50|53|37)[0-9]{10})$|^(4)[0-9]{11}$|^(90)[0-9]{10}$|^(120)[0-9]{9}$|^(780)[0-9]{9}$|^(881)[0-9]{9}$|^(882|885)[0-9]{9}$|^(54|55|56)[0-9]{10}$|^(960)[0-9]{9}$|^(665|666)[0-9]{9}$|^(63)[0-9]{10}$|^(64)[0-9]{10}$|^(72)[0-9]{10}$|^2[1-9][0-9]{10}$",
    },
    国通快递: {
      code: "GTO",
      reg_exp:
        "^(3(([0-6]|[8-9])\\d{8})|((2|4|5|6)\\d{9})|(7(?![0|1|2|3|4|5|7|8|9])\\d{9})|(8(?![2-9])\\d{9})|(2|4)\\d{11})$",
    },
    快捷快递: {
      code: "FAST",
      reg_exp:
        "^(?!440)(?!510)(?!520)(?!5231)([0-9]{9,13})$|^(P330[0-9]{8})$|^(D[0-9]{11})$|^(319)[0-9]{11}$|^(56)[0-9]{10}$|^(536)[0-9]{9}$",
    },
    能达速递: {
      code: "NEDA",
      reg_exp: "^((88|)[0-9]{10})$|^((1|2|3|5|)[0-9]{9})$|^(90000[0-9]{7})$",
    },
    如风达配送: {
      code: "BJRFD-001",
      reg_exp: "^[\\x21-\\x7e]{1,100}$",
    },
    信丰物流: {
      code: "XFWL",
      reg_exp: "^130[0-9]{9}|13[7-9]{1}[0-9]{9}|18[8-9]{1}[0-9]{9}$",
    },
    广东EMS: {
      code: "GDEMS",
      reg_exp: "^[a-zA-Z]{2}[0-9]{9}[a-zA-Z]{2}$",
    },
    邮政快递包裹: {
      code: "POSTB",
      reg_exp:
        "^([GA]|[KQ]|[PH]){2}[0-9]{9}([2-5][0-9]|[1][1-9]|[6][0-5])$|^[99]{2}[0-9]{11}$|^[96]{2}[0-9]{11}$|^[98]{2}[0-9]{11}$",
    },
    德邦物流: {
      code: "DBL",
      reg_exp: "^[0-9]{8,10}$|^\\d{15,}[-\\d]+$",
    },
    黑猫宅急便: {
      code: "YCT",
      reg_exp: "^[0-9]{12}$",
    },
    联昊通: {
      code: "LTS",
      reg_exp: "^[0-9]{9,12}$",
    },
    E速宝: {
      code: "ESB",
      reg_exp: "^[0-9a-zA-Z-]{5,20}$",
    },
    增益速递: {
      code: "QRT",
      reg_exp: "^[0-9]{12,13}$",
    },
  };
  let result: {
    name: string;
    code: string;
  }[] = [];
  for (const company in COMPANY_TEXT_MAP) {
    if (new RegExp(COMPANY_TEXT_MAP[company].reg_exp).test(orderNo)) {
      result.push({
        name: company,
        code: COMPANY_TEXT_MAP[company].code,
      });
    }
  }
  return result;
}
```

  </CodeGroupItem>
</CodeGroup>
